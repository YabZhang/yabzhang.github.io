<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Posts on yabzhang</title><link>https://yabzhang.github.io/posts/</link><description>Recent content in Posts on yabzhang</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Sun, 28 May 2023 14:55:01 +0800</lastBuildDate><atom:link href="https://yabzhang.github.io/posts/index.xml" rel="self" type="application/rss+xml"/><item><title>DNS 解析配置文件（On Linux)</title><link>https://yabzhang.github.io/posts/linux/dns_settings/</link><pubDate>Sun, 28 May 2023 14:55:01 +0800</pubDate><guid>https://yabzhang.github.io/posts/linux/dns_settings/</guid><description>本文介绍三个 Linux 上的 DNS 相关的配置文件，分别是/etc/hosts, /etc/resolv.conf 和 /etc/nsswitch.conf 。
1. /etc/hosts /etc/hosts 文件用于本地主机名解析，例如：
127.0.0.1 localhost ::1 localhost ip6-localhost ip6-loopback 该文件最为常见，包含一组 IP 地址和主机名的映射关系。一般当主机名解析时，Linux 会首先在该文件中查找，如果找到对应的主机名，则直接返回对应的 IP 地址，否则才会去 DNS 服务器上查找。
2. /etc/resolv.conf /etc/resolv.conf 文件用于配置 DNS 服务器，其格式如下：
// 本地主机配置 nameserver 192.xxx.xxx.xxx options edns0 search . // k8s 集群环境中的配置 search default.svc.cluster.local svc.cluster.local cluster.local nameserver 10.96.0.10 options ndots:5 nameserver 为配置的域名解析服务器地址，可以为 IPv4 或者 IPv6 地址；
search 指定了一组拓展搜索域；若域名中的 . 少于 options ndots 指定数目，则会以拓展搜索域轮流作为后缀尝试解析，直到得到一个解析结果；若全部拓展域都未匹配则返回报错。
例如：要在 k8s 环境解析应用域名 webserver，则会顺序解析 webserver.default.svc.cluster.local，webserver.svc.cluster.local, webserver.</description></item></channel></rss>