<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>linux on yabzhang</title><link>https://yabzhang.github.io/categories/linux/</link><description>Recent content in linux on yabzhang</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Sun, 28 May 2023 15:20:20 +0800</lastBuildDate><atom:link href="https://yabzhang.github.io/categories/linux/index.xml" rel="self" type="application/rss+xml"/><item><title>iptables 笔记</title><link>https://yabzhang.github.io/posts/linux/iptables_notes/</link><pubDate>Sun, 28 May 2023 15:20:20 +0800</pubDate><guid>https://yabzhang.github.io/posts/linux/iptables_notes/</guid><description>iptables 介绍 原理解析 1. 接收数据包 2. iptables 原理 总结 iptables 介绍 iptables 是一个用户空间实用程序，允许系统管理员配置 Linux 内核防火墙功能，如 IP 包过滤规则等，底层是基于 netfilter 内核模块实现 1。 通过 iptables 可以对 Linux 系统的网络数据包执行检测、修改、转发、重定向和丢弃等操作, 应用层可以便捷高效地实现 帧过滤、网络审计、连接追踪、帧修改、NAT、Masquerading、端口转发和负载均衡等强大功能2。很多知名项目都借助 iptables 实现完善功能，比如 ufw3, docker4, HAProxy5, LVS6 等。
以下为一些常用的 iptables 命令7：
# 通过 iptables-persistent 持久化保存 rules # &amp;gt; sudo apt install iptables-persistent # To accept all traffic on your loopback interface sudo iptables -A INPUT -i lo -j ACCEPT sudo iptables -A OUTPUT -o lo -j ACCEPT # allow outgoing traffic of all established connections sudo iptables -A OUTPUT -m conntrack --ctstate ESTABLISHED -j ACCEPT # allows established and related incoming traffic, allow return traffic for outgoing connections initiated by the server itself.</description></item><item><title>DNS 解析配置文件 (On Linux)</title><link>https://yabzhang.github.io/posts/linux/dns_settings/</link><pubDate>Sun, 28 May 2023 14:55:01 +0800</pubDate><guid>https://yabzhang.github.io/posts/linux/dns_settings/</guid><description>1. /etc/hosts 2. /etc/resolv.conf 3. /etc/nsswitch.conf 4. 总结 5. 参考资料 本文介绍三个 Linux 上的 DNS 相关的配置文件，分别是/etc/hosts, /etc/resolv.conf 和 /etc/nsswitch.conf 。
1. /etc/hosts /etc/hosts 文件用于本地主机名解析，例如：
127.0.0.1 localhost ::1 localhost ip6-localhost ip6-loopback 该文件最为常见，包含一组 IP 地址和主机名的映射关系。一般当主机名解析时，Linux 会首先在该文件中查找，如果找到对应的主机名，则直接返回对应的 IP 地址，否则才会去 DNS 服务器上查找。
2. /etc/resolv.conf /etc/resolv.conf 文件用于配置 DNS 服务器，其格式如下：
// 本地主机配置 nameserver 192.xxx.xxx.xxx options edns0 search . // k8s 集群环境中的配置 search default.svc.cluster.local svc.cluster.local cluster.local nameserver 10.96.0.10 options ndots:5 nameserver 为配置的域名解析服务器地址，可以为 IPv4 或者 IPv6 地址；
search 指定了一组拓展搜索域；若域名中的 .</description></item></channel></rss>