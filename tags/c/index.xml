<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>C on yabzhang</title><link>https://yabzhang.github.io/tags/c/</link><description>Recent content in C on yabzhang</description><generator>Hugo</generator><language>zh-cn</language><lastBuildDate>Sat, 04 Nov 2023 23:35:15 +0800</lastBuildDate><atom:link href="https://yabzhang.github.io/tags/c/index.xml" rel="self" type="application/rss+xml"/><item><title>smallchat æºç é˜…è¯»</title><link>https://yabzhang.github.io/posts/project/reading_smallchat/</link><pubDate>Sat, 04 Nov 2023 23:35:15 +0800</pubDate><guid>https://yabzhang.github.io/posts/project/reading_smallchat/</guid><description>smallchat1 æ˜¯ redis ä½œè€… antirez æ‰€å†™çš„ä¸€ä¸ªèŠå¤©å®¤çš„å°ç¨‹åºï¼›ä»£ç çŸ­å°ç²¾æ‚ï¼Œå¾ˆæœ‰æ„æ€ã€‚æ®è¯´ä½œè€…ä»¥æ­¤ä¾‹å‘å‰ç«¯æœ‹å‹å±•ç¤ºç³»ç»Ÿç¼–ç¨‹çš„è¶£å‘³ ğŸ˜„ 2~
è¿™é‡Œè®°å½•ä¸‹é˜…è¯»æºç æ‰€è·ã€‚
é¦–å…ˆä» main å¼€å§‹:
/* The main() function implements the main chat logic: * 1. Accept new clients connections if any. * 2. Check if any client sent us some new message. * 3. Send the message to all the other clients. */ int main(void) { initChat(); while(1) { ... } return 0; } æ ¹æ®æ³¨é‡Šï¼Œmain å‡½æ•°ä¸»è¦åšäº†ä¸‰ä»¶äº‹ï¼š
æ¥å—æ–°çš„å®¢æˆ·ç«¯è¿æ¥ï¼› æ£€æŸ¥æ˜¯å¦æœ‰å®¢æˆ·ç«¯å‘é€è¿‡æ¥æ–°çš„æ¶ˆæ¯ï¼› å‘é€æ¶ˆæ¯ç»™å…¶ä»–å®¢æˆ·ç«¯ï¼› ä»£ç é¦–å…ˆè°ƒç”¨äº† initChat å®Œæˆä¸€äº›åˆå§‹åŒ–å·¥ä½œï¼›ç„¶åç¨‹åºè¿›å…¥åˆ°æ­»å¾ªç¯ï¼Œä½œä¸ºå¸¸é©»æœåŠ¡ï¼Œä¼šä¸åœæ‰§è¡Œæ¶ˆæ¯é€»è¾‘ã€‚ä¸»é¢˜ç»“æ„å¤§ä½“æ˜¯è¿™æ ·ã€‚</description></item></channel></rss>